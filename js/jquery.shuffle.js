window.Modernizr=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return!!~(""+a).indexOf(b)}function D(a,b){for(var d in a){var e=a[d];if(!C(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}return!1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e}),q.csstransforms=function(){return!!F("transform")},q.csstransforms3d=function(){var a=!!F("perspective");return a&&"webkitPerspective"in g.style&&w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},q.csstransitions=function(){return F("transition")};for(var G in q)y(q,G)&&(v=G.toLowerCase(),e[v]=q[G](),t.push((e[v]?"":"no-")+v));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)y(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},z(""),i=k=null,e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,e.prefixed=function(a,b,c){return b?F(a,b,c):F(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(this,this.document);(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==!0){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,!1):a(d,f,e!==!1)}})(this);(function($,Modernizr,undefined){'use strict';var id=0;function dashify(prop){if(!prop){return''}
return prop.replace(/([A-Z])/g,function(str,m1){return'-'+m1.toLowerCase()}).replace(/^ms-/,'-ms-')}
var TRANSITION=Modernizr.prefixed('transition');var TRANSITION_DELAY=Modernizr.prefixed('transitionDelay');var TRANSITION_DURATION=Modernizr.prefixed('transitionDuration');var TRANSITIONEND={'WebkitTransition':'webkitTransitionEnd','transition':'transitionend'}[TRANSITION];var TRANSFORM=Modernizr.prefixed('transform');var CSS_TRANSFORM=dashify(TRANSFORM);var CAN_TRANSITION_TRANSFORMS=Modernizr.csstransforms&&Modernizr.csstransitions;var HAS_TRANSFORMS_3D=Modernizr.csstransforms3d;var SHUFFLE='shuffle';var ALL_ITEMS='all';var FILTER_ATTRIBUTE_KEY='groups';var Shuffle=function(element,options){options=options||{};$.extend(this,Shuffle.options,options,Shuffle.settings);this.$el=$(element);this.$window=$(window);this.unique='shuffle_'+id++;this._fire(Shuffle.EventType.LOADING);this._init();setTimeout($.proxy(this._fire,this,Shuffle.EventType.DONE),16)};Shuffle.EventType={LOADING:'loading',DONE:'done',SHRINK:'shrink',SHRUNK:'shrunk',FILTER:'filter',FILTERED:'filtered',SORTED:'sorted',LAYOUT:'layout',REMOVED:'removed'};Shuffle.prototype={_init:function(){var self=this,containerCSS,containerWidth,resizeFunction=$.proxy(self._onResize,self),debouncedResize=self.throttle?self.throttle(self.throttleTime,resizeFunction):resizeFunction,sort=self.initialSort?self.initialSort:null;self._setVars();self._resetCols();self._addClasses();self._initItems();self.$window.on('resize.'+SHUFFLE+'.'+self.unique,debouncedResize);containerCSS=self.$el.css(['paddingLeft','paddingRight','position']);containerWidth=self._getOuterWidth(self.$el[0]);if(containerCSS.position==='static'){self.$el[0].style.position='relative'}
self.offset={left:parseInt(containerCSS.paddingLeft,10)||0,top:parseInt(containerCSS.paddingTop,10)||0};self._setColumns(parseInt(containerWidth,10));self.shuffle(self.group,sort);if(self.supported){setTimeout(function(){self._setTransitions();self.$el[0].style[TRANSITION]='height '+self.speed+'ms '+self.easing},0)}},_addClasses:function(){this.$el.addClass(SHUFFLE);this.$items.addClass('shuffle-item filtered')},_setVars:function(){var self=this,columnWidth=self.columnWidth;self.$items=self._getItems();self.isFluid=columnWidth&&$.isFunction(self.columnWidth);if(columnWidth===0&&self.sizer!==null){columnWidth=self.sizer}
if(typeof columnWidth==='string'){self.$sizer=self.$el.find(columnWidth)}else if(columnWidth&&columnWidth.nodeType&&columnWidth.nodeType===1){self.$sizer=$(columnWidth)}else if(columnWidth&&columnWidth.jquery){self.$sizer=columnWidth}
if(self.$sizer&&self.$sizer.length){self.useSizer=!0;self.sizer=self.$sizer[0]}},_filter:function(category,$collection){var self=this,isPartialSet=$collection!==undefined,$items=isPartialSet?$collection:self.$items,$filtered=$();category=category||self.lastFilter;self._fire(Shuffle.EventType.FILTER);if($.isFunction(category)){$items.each(function(){var $item=$(this);if(category.call($item[0],$item,self)){$filtered=$filtered.add($item)}})}else{self.group=category;if(category===ALL_ITEMS){$filtered=$items}else{$items.each(function(){var $item=$(this),groups=$item.data(FILTER_ATTRIBUTE_KEY),keys=self.delimeter&&!$.isArray(groups)?groups.split(self.delimeter):groups;if($.inArray(category,keys)>-1){$filtered=$filtered.add($item)}})}}
self._toggleFilterClasses($items,$filtered);$items=null;$collection=null;return $filtered},_toggleFilterClasses:function($items,$filtered){var concealed='concealed',filtered='filtered';$items.filter($filtered).each(function(){var $filteredItem=$(this);if($filteredItem.hasClass(concealed)){$filteredItem.removeClass(concealed)}
if(!$filteredItem.hasClass(filtered)){$filteredItem.addClass(filtered)}});$items.not($filtered).each(function(){var $filteredItem=$(this);if(!$filteredItem.hasClass(concealed)){$filteredItem.addClass(concealed)}
if($filteredItem.hasClass(filtered)){$filteredItem.removeClass(filtered)}})},_initItems:function($items){$items=$items||this.$items;return $items.css(this.itemCss)},_updateItemCount:function(){this.visibleItems=this.$items.filter('.filtered').length;return this},_setTransition:function(element){var self=this;element.style[TRANSITION]=CSS_TRANSFORM+' '+self.speed+'ms '+self.easing+', opacity '+self.speed+'ms '+self.easing;return element},_setTransitions:function($items){var self=this;$items=$items||self.$items;$items.each(function(){self._setTransition(this)});return self},_setSequentialDelay:function($collection){var self=this;if(!self.supported){return}
$.each($collection,function(i){this.style[TRANSITION_DELAY]='0ms,'+((i+1)*self.sequentialFadeDelay)+'ms';$(this).one(TRANSITIONEND,function(){this.style[TRANSITION_DELAY]='0ms'})})},_getItems:function(){return this.$el.children(this.itemSelector)},_getPreciseDimension:function(element,style){var dimension;if(window.getComputedStyle){dimension=window.getComputedStyle(element,null)[style]}else{dimension=$(element).css(style)}
return parseFloat(dimension)},_getOuterWidth:function(element,includeMargins){var width=element.offsetWidth;if(includeMargins){var marginLeft=Math.round(parseFloat(element.style.marginLeft))||0;var marginRight=Math.round(parseFloat(element.style.marginRight))||0;width+=marginLeft+marginRight}
return width},_getColumnSize:function(gutterSize,containerWidth){var size;if(this.isFluid){size=this.columnWidth(containerWidth)}else if(this.useSizer){size=this._getPreciseDimension(this.sizer,'width')}else if(this.columnWidth){size=this.columnWidth}else if(this.$items.length>0){size=this._getOuterWidth(this.$items[0],!0)}else{size=containerWidth}
if(size===0){size=containerWidth}
return size+gutterSize},_getGutterSize:function(containerWidth){var size;if($.isFunction(this.gutterWidth)){size=this.gutterWidth(containerWidth)}else if(this.useSizer){size=this._getPreciseDimension(this.sizer,'marginLeft')}else{size=this.gutterWidth}
return size},_setColumns:function(theContainerWidth){var containerWidth=theContainerWidth||this._getOuterWidth(this.$el[0]);var gutter=this._getGutterSize(containerWidth);var columnWidth=this._getColumnSize(gutter,containerWidth);var calculatedColumns=(containerWidth+gutter)/columnWidth;if(Math.abs(Math.round(calculatedColumns)-calculatedColumns)<0.03){calculatedColumns=Math.round(calculatedColumns)}
this.cols=Math.max(Math.floor(calculatedColumns),1);this.containerWidth=containerWidth;this.colWidth=columnWidth},_setContainerSize:function(){this.$el.css('height',Math.max.apply(Math,this.colYs))},_fire:function(name,args){this.$el.trigger(name+'.'+SHUFFLE,args&&args.length?args:[this])},_layout:function(items,fn,isOnlyPosition,isHide){var self=this;fn=fn||self.filterEnd;self.layoutTransitionEnded=!1;$.each(items,function(index,item){var $this=$(item),brickWidth=self._getOuterWidth(item,!0),columnSpan=brickWidth/self.colWidth;if(Math.abs(Math.round(columnSpan)-columnSpan)<0.03){columnSpan=Math.round(columnSpan)}
var colSpan=Math.min(Math.ceil(columnSpan),self.cols);if(colSpan===1){self._placeItem($this,self.colYs,fn,isOnlyPosition,isHide)}else{var groupCount=self.cols+1-colSpan,groupY=[],groupColY,i;for(i=0;i<groupCount;i++){groupColY=self.colYs.slice(i,i+colSpan);groupY[i]=Math.max.apply(Math,groupColY)}
self._placeItem($this,groupY,fn,isOnlyPosition,isHide)}});self._processStyleQueue();self._setContainerSize()},_resetCols:function(){var i=this.cols;this.colYs=[];while(i--){this.colYs.push(0)}},_reLayout:function(callback,isOnlyPosition){var self=this;callback=callback||self.filterEnd;self._resetCols();if(self.keepSorted&&self.lastSort){self.sort(self.lastSort,!0,isOnlyPosition)}else{self._layout(self.$items.filter('.filtered').get(),self.filterEnd,isOnlyPosition)}},_placeItem:function($item,setY,callback,isOnlyPosition,isHide){var self=this,minimumY=Math.min.apply(Math,setY),shortCol=0;for(var i=0,len=setY.length;i<len;i++){if(setY[i]>=minimumY-self.buffer&&setY[i]<=minimumY+self.buffer){shortCol=i;break}}
var x=self.colWidth*shortCol,y=minimumY;x=Math.round(x+self.offset.left);y=Math.round(y+self.offset.top);$item.data({x:x,y:y});var setHeight=minimumY+$item.outerHeight(!0),setSpan=self.cols+1-len;for(i=0;i<setSpan;i++){self.colYs[shortCol+i]=setHeight}
var transitionObj={from:'layout',$this:$item,x:x,y:y,scale:1};if(isOnlyPosition){transitionObj.skipTransition=!0}else{transitionObj.opacity=1;transitionObj.callback=callback}
if(isHide){transitionObj.opacity=0}
self.styleQueue.push(transitionObj)},_shrink:function($collection,fn){var self=this,$concealed=$collection||self.$items.filter('.concealed'),transitionObj={},callback=fn||self.shrinkEnd;if(!$concealed.length){return}
self._fire(Shuffle.EventType.SHRINK);self.shrinkTransitionEnded=!1;$concealed.each(function(){var $this=$(this),data=$this.data();transitionObj={from:'shrink',$this:$this,x:data.x,y:data.y,scale:0.001,opacity:0,callback:callback};self.styleQueue.push(transitionObj)})},_onResize:function(){if(!this.enabled||this.destroyed){return}
var containerWidth=this._getOuterWidth(this.$el[0]);if(containerWidth===this.containerWidth){return}
this.resized()},transition:function(opts){var self=this,transform,complete=function(){if(!self.layoutTransitionEnded&&opts.from==='layout'){self._fire(Shuffle.EventType.LAYOUT);opts.callback.call(self);self.layoutTransitionEnded=!0}else if(!self.shrinkTransitionEnded&&opts.from==='shrink'){opts.callback.call(self);self.shrinkTransitionEnded=!0}};opts.callback=opts.callback||$.noop;if(self.supported){if(opts.scale===undefined){opts.scale=1}
if(HAS_TRANSFORMS_3D){transform='translate3d('+opts.x+'px, '+opts.y+'px, 0) scale3d('+opts.scale+', '+opts.scale+', 1)'}else{transform='translate('+opts.x+'px, '+opts.y+'px) scale('+opts.scale+', '+opts.scale+')'}
if(opts.x!==undefined){opts.$this.css(TRANSFORM,transform)}
if(opts.opacity!==undefined){opts.$this.css('opacity',opts.opacity)}
opts.$this.one(TRANSITIONEND,complete)}else{var cssObj={left:opts.x,top:opts.y,opacity:opts.opacity};opts.$this.stop(!0).animate(cssObj,self.speed,'swing',complete)}},_processStyleQueue:function(){var self=this,queue=self.styleQueue;$.each(queue,function(i,transitionObj){if(transitionObj.skipTransition){self._skipTransition(transitionObj.$this[0],function(){self.transition(transitionObj)})}else{self.transition(transitionObj)}});self.styleQueue.length=0},shrinkEnd:function(){this._fire(Shuffle.EventType.SHRUNK)},filterEnd:function(){this._fire(Shuffle.EventType.FILTERED)},sortEnd:function(){this._fire(Shuffle.EventType.SORTED)},_skipTransition:function(element,property,value){var reflow,duration=element.style[TRANSITION_DURATION];element.style[TRANSITION_DURATION]='0ms';if($.isFunction(property)){property()}else{element.style[property]=value}
reflow=element.offsetWidth;element.style[TRANSITION_DURATION]=duration},_addItems:function($newItems,animateIn,isSequential){var self=this,$passed,passed;if(!self.supported){animateIn=!1}
$newItems.addClass('shuffle-item');self._initItems($newItems);self._setTransitions($newItems);self.$items=self._getItems();$newItems.css('opacity',0);$passed=self._filter(undefined,$newItems);passed=$passed.get();self._updateItemCount();if(animateIn){self._layout(passed,null,!0,!0);if(isSequential){self._setSequentialDelay($passed)}
self._revealAppended($passed)}else{self._layout(passed)}},_revealAppended:function($newFilteredItems){var self=this;setTimeout(function(){$newFilteredItems.each(function(i,el){self.transition({from:'reveal',$this:$(el),opacity:1})})},self.revealAppendedDelay)},shuffle:function(category,sortObj){var self=this;if(!self.enabled){return}
if(!category){category=ALL_ITEMS}
self._filter(category);self.lastFilter=category;self._updateItemCount();self._resetCols();self._shrink();if(sortObj){self.lastSort=sortObj}
self._reLayout()},sort:function(opts,fromFilter,isOnlyPosition){var self=this,items=self.$items.filter('.filtered').sorted(opts);if(!fromFilter){self._resetCols()}
self._layout(items,function(){if(fromFilter){self.filterEnd()}
self.sortEnd()},isOnlyPosition);self.lastSort=opts},resized:function(isOnlyLayout){if(this.enabled){if(!isOnlyLayout){this._setColumns()}
this._reLayout()}},layout:function(){this.update(!0)},update:function(isOnlyLayout){this.resized(isOnlyLayout)},appended:function($newItems,animateIn,isSequential){animateIn=animateIn===!1?!1:!0;isSequential=isSequential===!1?!1:!0;this._addItems($newItems,animateIn,isSequential)},disable:function(){this.enabled=!1},enable:function(isUpdateLayout){this.enabled=!0;if(isUpdateLayout!==!1){this.update()}},remove:function($collection){if(!$collection.length||!$collection.jquery){return}
var self=this;self._shrink($collection,function(){var shuffle=this;$collection.remove();setTimeout(function(){shuffle.$items=shuffle._getItems();shuffle.layout();shuffle._updateItemCount();shuffle._fire(Shuffle.EventType.REMOVED,[$collection,shuffle]);$collection=null},0)});self._processStyleQueue();return self},destroy:function(){var self=this;self.$window.off('.'+self.unique);self.$el.removeClass(SHUFFLE).removeAttr('style').removeData(SHUFFLE);self.$items.removeAttr('style').removeClass('concealed filtered shuffle-item');self.$window=null;self.$items=null;self.$el=null;self.$sizer=null;self.sizer=null;self.destroyed=!0}};Shuffle.options={group:ALL_ITEMS,speed:250,easing:'ease-out',itemSelector:'',sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:$.throttle||null,throttleTime:300,sequentialFadeDelay:150,supported:CAN_TRANSITION_TRANSFORMS};Shuffle.settings={$sizer:null,useSizer:!1,itemCss:{position:'absolute',top:0,left:0},offset:{top:0,left:0},revealAppendedDelay:300,keepSorted:!0,enabled:!0,destroyed:!1,styleQueue:[]};$.fn.shuffle=function(opts){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var $this=$(this),shuffle=$this.data(SHUFFLE);if(!shuffle){shuffle=new Shuffle($this,opts);$this.data(SHUFFLE,shuffle)}
if(typeof opts==='string'&&shuffle[opts]){shuffle[opts].apply(shuffle,args)}})};$.fn.sorted=function(options){var opts=$.extend({},$.fn.sorted.defaults,options),arr=this.get(),revert=!1;if(!arr.length){return[]}
if(opts.randomize){return $.fn.sorted.randomize(arr)}
if(opts.by!==$.noop&&opts.by!==null&&opts.by!==undefined){arr.sort(function(a,b){if(revert){return 0}
var valA=opts.by($(a)),valB=opts.by($(b));if(valA===undefined&&valB===undefined){revert=!0;return 0}
if(valA==='sortFirst'||valB==='sortLast'){return-1}
if(valA==='sortLast'||valB==='sortFirst'){return 1}
return(valA<valB)?-1:(valA>valB)?1:0})}
if(revert){return this.get()}
if(opts.reverse){arr.reverse()}
return arr};$.fn.sorted.defaults={reverse:!1,by:null,randomize:!1};$.fn.sorted.randomize=function(array){var top=array.length,tmp,current;if(!top){return array}
while(--top){current=Math.floor(Math.random()*(top+1));tmp=array[current];array[current]=array[top];array[top]=tmp}
return array}})(jQuery,Modernizr)